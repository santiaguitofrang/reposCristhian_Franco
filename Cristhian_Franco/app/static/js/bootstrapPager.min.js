/*
 * JSModel
 * https://github.com/chadkuehn/BootstrapPager
 * Version: 1.0.9
 *
 * Copyright Â© 2014 Chad Kuehn (http://chadkuehn.com)
 */

$.fn.dataTableExt.oPagination.bootstrapPager={fnInit:function(g,l,f){if(g.sTableId==""){$.error("Datatable requires an ID.");return}var o=$("<span />");var m=$("<span />");var d=$("<span />");var h=$("<span />");var n=$('<input type="text" />');var c=$("<span />");var i=$("<span />");var b=$("<span />");var j=$("<span />");var k=$("<span />");var a=$("<span />");var e=$("<label />");o.addClass("paginate_button paginate_button_first");m.addClass("paginate_button  paginate_button_previous");d.addClass("paginate_button paginate_button_next");h.addClass("paginate_button paginate_button_last");c.addClass("paginate_prefix");i.addClass("paginate_suffix");n.addClass("paginate_textbox");b.addClass("paginate_button_first_disabled hide");k.addClass("paginate_button_previous hide");j.addClass("paginate_button_next_disabled hide");a.addClass("paginate_button_last hide");b.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);k.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);j.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);a.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);o.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);m.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);d.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);h.css("width",44).css("text-align","center").css("padding-left",14).css("padding-right",14).css("margin-left",2);b.css("color","#CCC");j.css("color","#CCC");k.css("color","#CCC");a.css("color","#CCC");e.css("font-weight","normal");$(l).attr("id",g.sTableId+"_paginate");o.attr("id",g.sTableId+"_paginate_button_first");m.attr("id",g.sTableId+"_paginate_button_previous");d.attr("id",g.sTableId+"_paginate_button_next");h.attr("id",g.sTableId+"_paginate_button_last");b.attr("id",g.sTableId+"_paginate_button_first_disabled");k.attr("id",g.sTableId+"_paginate_button_previous_disabled");j.attr("id",g.sTableId+"_paginate_button_next_disabled");a.attr("id",g.sTableId+"_paginate_button_last_disabled");n.attr("id",g.sTableId+"_paginate_textbox");i.attr("id",g.sTableId+"_paginate_suffix");c.attr("id",g.sTableId+"_paginate_prefix");n.addClass("form-control").css("display","inline");c.css("padding-right",3);$(e).append(c).append(n).append(i);$(l).append(o).append(b).append(m).append(k).append(e).append(d).append(j).append(h).append(a);o.click(function(){g.oApi._fnPageChange(g,"first");f(g)});m.click(function(){g.oApi._fnPageChange(g,"previous");f(g)});d.click(function(){g.oApi._fnPageChange(g,"next");f(g)});h.click(function(){g.oApi._fnPageChange(g,"last");f(g)});n.keypress(function(p){var p=window.event||p;var q=p.charCode||p.keyCode;if(String.fromCharCode(q).match(/[^0-9]/g)){return false}})},fnUpdate:function(p,k){if(!p.aanFeatures.p){return}if(p.sTableId==""){return}var n;if(p._iDisplayLength==-1){n=1}else{n=Math.ceil((p.fnRecordsDisplay())/p._iDisplayLength)}var f=0;if(n!=0){f=Math.ceil(p._iDisplayStart/p._iDisplayLength)+1}var a=false;var z=45;var q="glyphicon glyphicon-chevron-right";var l="glyphicon glyphicon-chevron-left";var u="glyphicon glyphicon-step-backward";var s="glyphicon glyphicon-step-forward";var j="~ of ~ pages";var e;for(var d in p.oInit){if(d.toUpperCase()=="PAGERSETTINGS"){e=p.oInit[d];break}}if(e){for(var d in e){var o=e[d];switch(d.toUpperCase()){case"TEXTBOXWIDTH":z=o;break;case"NEXTICON":q=o;break;case"PREVIOUSICON":l=o;break;case"FIRSTICON":u=o;break;case"LASTICON":s=o;break;case"SEARCHONENTER":a=o;break;case"LANGUAGE":j=o;break}}}var A=$("#"+p.sTableId+"_paginate");var r=$("#"+p.sTableId+"_paginate_textbox");var x=$("#"+p.sTableId+"_paginate_prefix");var y=$("#"+p.sTableId+"_paginate_suffix");var i=$("#"+p.sTableId+"_paginate_button_first");var w=$("#"+p.sTableId+"_paginate_button_previous");var t=$("#"+p.sTableId+"_paginate_button_next");var h=$("#"+p.sTableId+"_paginate_button_last");var c=$("#"+p.sTableId+"_paginate_button_first_disabled");var b=$("#"+p.sTableId+"_paginate_button_previous_disabled");var m=$("#"+p.sTableId+"_paginate_button_next_disabled");var v=$("#"+p.sTableId+"_paginate_button_last_disabled");r.css("width",z);if(u==""){i.hide();c.hide()}else{i.addClass(u);c.addClass(u)}if(q==""){t.hide();m.hide()}else{t.addClass(q);m.addClass(q)}if(l==""){w.hide();b.hide()}else{w.addClass(l);b.addClass(l)}if(s==""){h.hide();v.hide()}else{h.addClass(s);v.addClass(s)}r.off("keyup").on("keyup",(function(B){if(a){if(B.which!=13){return}}var C=p._iDisplayLength*(this.value-1);if(C>p.fnRecordsDisplay()){p._iDisplayStart=(Math.ceil((p.fnRecordsDisplay()-1)/p._iDisplayLength)-1)*p._iDisplayLength;k(p);return}p._iDisplayStart=C;k(p)}));if((f==1)&&(n>1)){i.addClass("hide");w.addClass("hide");t.removeClass("hide");h.removeClass("hide");c.removeClass("hide");b.removeClass("hide");m.addClass("hide");v.addClass("hide");r.removeAttr("readonly");A.show()}else{if((f>1)&&(f<n)){i.removeClass("hide");w.removeClass("hide");t.removeClass("hide");h.removeClass("hide");c.addClass("hide");b.addClass("hide");m.addClass("hide");v.addClass("hide");r.removeAttr("readonly");A.show()}else{if((f==n)&&(n>1)){i.removeClass("hide");w.removeClass("hide");t.addClass("hide");h.addClass("hide");c.addClass("hide");b.addClass("hide");m.removeClass("hide");v.removeClass("hide");r.removeAttr("readonly");A.show()}else{i.addClass("hide");w.addClass("hide");t.addClass("hide");h.addClass("hide");c.removeClass("hide");b.removeClass("hide");m.removeClass("hide");v.removeClass("hide");r.attr("readonly","readonly");if(n==0){A.hide()}}}}var g=j.split("~");x.html(g[0]);y.html(g[1]+(""+n).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")+g[2]);r.val(f)}};